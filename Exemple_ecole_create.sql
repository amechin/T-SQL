SET dateformat dmy;


-- Table : ELEVES

CREATE TABLE ELEVES
(
	NUM_ELEVE		int			NOT NULL IDENTITY(1,1),
	NOM				VARCHAR(25)	NOT NULL,
	PRENOM			VARCHAR(25)	NOT NULL,
	DATE_NAISSANCE	DATETIME,
	POIDS			int,
	ANNEE			int,

	CONSTRAINT PK_ELEVES PRIMARY KEY (NUM_ELEVE)
);

-- Table : COURS

CREATE TABLE COURS
(
	NUM_COURS		int			NOT NULL IDENTITY(1, 1),
	NOM				VARCHAR(20)	NOT NULL,
	NBHEURES		int,
	ANNEE			int,

	CONSTRAINT PK_COURS PRIMARY KEY (NUM_COURS)
);

-- Table : PROFESSEURS

CREATE TABLE PROFESSEURS
(
	NUM_PROF        int			NOT NULL IDENTITY(1, 1),
	NOM             VARCHAR(25)	NOT NULL,
	SPECIALITE      VARCHAR(20),
	DATE_ENTREE     DATETIME,
	DER_PROM        DATETIME,
	SALAIRE_BASE    int,
	SALAIRE_ACTUEL  int,

	CONSTRAINT PK_PROFESSEURS PRIMARY KEY (NUM_PROF)
);

-- Table : ACTIVITES

CREATE TABLE ACTIVITES
(
	NIVEAU          int			NOT NULL,
	NOM             VARCHAR(20) NOT NULL,
	EQUIPE          VARCHAR(32),

	CONSTRAINT PK_ACTIVITES PRIMARY KEY (NIVEAU,NOM)
);

-- Table : RESULTATS

CREATE TABLE RESULTATS
(
	NUM_ELEVE		int			NOT NULL,
	NUM_COURS		int			NOT NULL,
	POINTS			int,

	CONSTRAINT PK_RESULTATS PRIMARY KEY (NUM_ELEVE, NUM_COURS)
);

-- Table : CHARGE

CREATE TABLE CHARGE
(
	NUM_PROF		int			NOT NULL,
	NUM_COURS		int			NOT NULL,

	CONSTRAINT PK_CHARGE PRIMARY KEY (NUM_COURS, NUM_PROF)
);

-- Table : ACTIVITES_PRATIQUEES

CREATE TABLE ACTIVITES_PRATIQUEES
(
	NUM_ELEVE		int			NOT NULL,
	NIVEAU			int			NOT NULL,
	NOM				VARCHAR(20)	NOT NULL,

	CONSTRAINT PK_ACTIVITES_PRATIQUEES PRIMARY KEY (NUM_ELEVE, NIVEAU, NOM) 
);

-- Les cles étrangères

ALTER TABLE RESULTATS
	ADD CONSTRAINT	FK_RESULTAT_ELEVES		FOREIGN KEY (NUM_ELEVE)
	REFERENCES		ELEVES (NUM_ELEVE);

ALTER TABLE RESULTATS
	ADD CONSTRAINT	FK_RESULTAT_COURS		FOREIGN KEY (NUM_COURS)
	REFERENCES		COURS (NUM_COURS);

ALTER TABLE CHARGE
	ADD CONSTRAINT	FK_CHARGE_COURS			FOREIGN KEY (NUM_COURS)
	REFERENCES		COURS (NUM_COURS);

ALTER TABLE CHARGE
	ADD CONSTRAINT	FK_CHARGE_PROFESSEUR	FOREIGN KEY (NUM_PROF)
	REFERENCES		PROFESSEURS (NUM_PROF);

ALTER TABLE ACTIVITES_PRATIQUEES
	ADD CONSTRAINT	FK_ACTIVITE_ELEVES		FOREIGN KEY (NUM_ELEVE)
	REFERENCES		ELEVES (NUM_ELEVE);

ALTER TABLE ACTIVITES_PRATIQUEES
	ADD CONSTRAINT	FK_ACTIVITEPR_ACTIVITE	FOREIGN KEY (NIVEAU, NOM)
	REFERENCES		ACTIVITES (NIVEAU, NOM);

-- Insertions

SET IDENTITY_INSERT dbo.ELEVES ON

INSERT INTO ELEVES (NUM_ELEVE, NOM, PRENOM, DATE_NAISSANCE, POIDS, ANNEE)
	VALUES (1, 'Burton', 'Tim', '10-12-1988', 35, 1);

INSERT INTO ELEVES (NUM_ELEVE, NOM, PRENOM, DATE_NAISSANCE, POIDS, ANNEE)
	VALUES (2, 'Canin', 'Ethan', '10-04-1988', 88, 1);

INSERT INTO ELEVES (NUM_ELEVE, NOM, PRENOM, DATE_NAISSANCE, POIDS, ANNEE)
	VALUES (3, 'Fast', 'Howard', '28-06-1987', 72, 2);

INSERT INTO ELEVES (NUM_ELEVE, NOM, PRENOM, DATE_NAISSANCE, POIDS, ANNEE)
	VALUES (4, 'Fergus', 'Jim', '16-02-1988', 78, 2);

INSERT INTO ELEVES (NUM_ELEVE, NOM, PRENOM, DATE_NAISSANCE, POIDS, ANNEE)
	VALUES (5, 'Horney', 'Karen', '29-10-1987', 45, 1);

INSERT INTO ELEVES (NUM_ELEVE, NOM, PRENOM, DATE_NAISSANCE, POIDS, ANNEE)
	VALUES (6, 'Irving', 'John', '29-04-1989', 75, 2);

INSERT INTO ELEVES (NUM_ELEVE, NOM, PRENOM, DATE_NAISSANCE, POIDS, ANNEE)
	VALUES (7, 'James', 'Henry', '08-04-1986', 61, 1);

INSERT INTO ELEVES (NUM_ELEVE, NOM, PRENOM, DATE_NAISSANCE, POIDS, ANNEE)
	VALUES (8, 'London', 'Jack', '20-04-1989', 60, 2);

INSERT INTO ELEVES (NUM_ELEVE, NOM, PRENOM, DATE_NAISSANCE, POIDS, ANNEE)
	VALUES (9, 'Miller', 'Arthur', '07-09-1987', 59, 1);

INSERT INTO ELEVES (NUM_ELEVE, NOM, PRENOM, DATE_NAISSANCE, POIDS, ANNEE)
	VALUES (10, 'Moody', 'Rick', '15-02-1988', 82, 2);

SET IDENTITY_INSERT dbo.ELEVES OFF

SET IDENTITY_INSERT dbo.COURS ON

INSERT INTO COURS (NUM_COURS, NOM, NBHEURES, ANNEE)
	VALUES (1, 'C/C++', 15, 1);

INSERT INTO COURS (NUM_COURS, NOM, NBHEURES, ANNEE)
	VALUES (2, 'SQL', 30, 1);

INSERT INTO COURS (NUM_COURS, NOM, NBHEURES, ANNEE)
	VALUES (3, 'Dessin', 15, 1);

INSERT INTO COURS (NUM_COURS, NOM, NBHEURES, ANNEE)
	VALUES (4, 'Poésie', 30, 2);

INSERT INTO COURS (NUM_COURS, NOM, NBHEURES, ANNEE)
	VALUES (5, 'Cuisine', 60, 2);

SET IDENTITY_INSERT dbo.COURS OFF

SET IDENTITY_INSERT dbo.PROFESSEURS ON

INSERT INTO PROFESSEURS (NUM_PROF, NOM , SPECIALITE, DATE_ENTREE, DER_PROM, SALAIRE_BASE, SALAIRE_ACTUEL)
	VALUES (1, 'Julien', 'Poésie', '01-10-1990', '01-10-2008', 20000, 26000);

INSERT INTO PROFESSEURS (NUM_PROF, NOM , SPECIALITE, DATE_ENTREE, DER_PROM, SALAIRE_BASE, SALAIRE_ACTUEL)
	VALUES (2, 'Emanuelle', 'SQL', '15-11-1998', '01-10-2007', 19000, 24680);

INSERT INTO PROFESSEURS (NUM_PROF, NOM , SPECIALITE, DATE_ENTREE, DER_PROM, SALAIRE_BASE, SALAIRE_ACTUEL)
	VALUES (3, 'Lucie', 'Cuisine', '01-10-1999', '01-01-2009', 19000, 23600);

INSERT INTO PROFESSEURS (NUM_PROF, NOM , SPECIALITE, DATE_ENTREE, DER_PROM, SALAIRE_BASE, SALAIRE_ACTUEL)
	VALUES (4, 'Edouard', 'Dessin', '01-10-1995', '01-10-2006', 25000, 25000);

INSERT INTO PROFESSEURS (NUM_PROF, NOM , SPECIALITE, DATE_ENTREE, DER_PROM, SALAIRE_BASE, SALAIRE_ACTUEL)
	VALUES (5, 'Arthur', 'C/C++', '15-10-1992', '01-10-2004', 19000, 19000);

INSERT INTO PROFESSEURS (NUM_PROF, NOM , SPECIALITE, DATE_ENTREE, DER_PROM, SALAIRE_BASE, SALAIRE_ACTUEL)
	VALUES (6, 'Jimmy', 'C/C++', '25-04-2000', '05-06-2008', 19000, 22000);

INSERT INTO PROFESSEURS (NUM_PROF, NOM , SPECIALITE, DATE_ENTREE, DER_PROM, SALAIRE_BASE, SALAIRE_ACTUEL)
	VALUES (7, 'François', NULL, '01-10-1995', '11-01-2009', 20000, 32000);

INSERT INTO PROFESSEURS (NUM_PROF, NOM , SPECIALITE, DATE_ENTREE, DER_PROM, SALAIRE_BASE, SALAIRE_ACTUEL)
	VALUES (8, 'Fabien', NULL, '06-12-1998', '29-02-2004', 20000, 25000);

SET IDENTITY_INSERT dbo.PROFESSEURS OFF


INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (1, 1);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (1, 4);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (2, 1);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (3, 2);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (3, 4);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (3, 5);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (4, 2);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (7, 4);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (8, 1);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (8, 2);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (8, 3);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (8, 4);

INSERT INTO CHARGE (NUM_PROF, NUM_COURS)
	VALUES (8, 5);


INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (1, 1, 15);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (1, 2 , 10.5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (1, 4, 8);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (1, 5, 20);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (2, 1, 13.5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (2, 2, 12);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (2, 4, 11);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (2, 5, 1.5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (3, 1, 14);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (3, 2, 15);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (3, 4, 16);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (3, 5, 20);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (4, 1, 16.5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (4, 2, 14);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (4, 4, 11);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (4, 5, 8);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (5, 1, 5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (5, 2, 6.5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (5, 4, 13);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (5, 5, 13);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (6, 1, 15);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (6, 2, 3.5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (6, 4, 16);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (6, 5, 5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (7, 1, 2.5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (7, 2, 18);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (7, 4, 11);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (7, 5, 10);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (8, 1, 16);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (8, 2, 0);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (8, 4, 6);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (8, 5, 11.5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (9, 1, 20);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (9, 2, 20);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (9, 4, 14);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (9, 5, 9.5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (10, 1, 3);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (10, 2, 12.5);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (10, 4, 0);

INSERT INTO RESULTATS (NUM_ELEVE, NUM_COURS, POINTS)
	VALUES (10, 5, 16);


INSERT INTO ACTIVITES (NIVEAU, NOM, EQUIPE)
	VALUES (1,'Rugby','Equipe 1');

INSERT INTO ACTIVITES (NIVEAU, NOM, EQUIPE) 
	VALUES (1,'Surf','Equipe 2');

INSERT INTO ACTIVITES (NIVEAU, NOM, EQUIPE)
	VALUES (2,'Tennis','Equipe 3');

INSERT INTO ACTIVITES (NIVEAU, NOM, EQUIPE)
	VALUES (3,'Tennis','Equipe 4');

INSERT INTO ACTIVITES (NIVEAU, NOM, EQUIPE)
	VALUES (1,'Volley ball', 'Equipe 5');

INSERT INTO ACTIVITES (NIVEAU, NOM, EQUIPE)
	VALUES (2,'Rugby', 'Equipe 6');

INSERT INTO ACTIVITES (NIVEAU, NOM, EQUIPE)
	VALUES (2,'Volley ball', 'Equipe 7');


INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (1, 1, 'Rugby');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (1, 1, 'Surf');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (1, 1, 'Volley ball');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (1, 2, 'Tennis');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (2, 1, 'Rugby');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (2, 2, 'Tennis');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (3, 2, 'Rugby');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (3, 2, 'Tennis');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (3, 2, 'Volley ball');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (4, 1, 'Surf');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (5, 1, 'Rugby');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (5, 1, 'Surf');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (5, 1, 'Volley ball');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (8, 1, 'Rugby');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (8, 1, 'Volley ball');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (8, 2, 'Volley ball');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (9, 1, 'Rugby');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (9, 2, 'Volley ball');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (10, 1, 'Rugby');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (10, 2, 'Tennis');

INSERT INTO ACTIVITES_PRATIQUEES (NUM_ELEVE, NIVEAU, NOM)
	VALUES (10, 2, 'Volley ball');
